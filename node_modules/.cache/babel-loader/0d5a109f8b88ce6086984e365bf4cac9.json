{"ast":null,"code":"import _classCallCheck from \"C:\\\\React\\\\react-gradu\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\React\\\\react-gradu\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport React, { Component } from \"react\";\nexport var getHTMLMediaElement =\n/*#__PURE__*/\nfunction () {\n  function getHTMLMediaElement() {\n    _classCallCheck(this, getHTMLMediaElement);\n  }\n\n  _createClass(getHTMLMediaElement, [{\n    key: \"render\",\n    value: function render() {\n      var getHTMLMediaElement = function getHTMLMediaElement(mediaElement, config) {\n        config = config || {};\n\n        if (!mediaElement.nodeName || mediaElement.nodeName.toLowerCase() !== \"audio\" && mediaElement.nodeName.toLowerCase() !== \"video\") {\n          if (!mediaElement.getVideoTracks().length) {\n            return getAudioElement(mediaElement, config);\n          }\n\n          var mediaStream = mediaElement;\n          mediaElement = document.createElement(mediaStream.getVideoTracks().length ? \"video\" : \"audio\");\n\n          try {\n            mediaElement.setAttributeNode(document.createAttribute(\"autoplay\"));\n            mediaElement.setAttributeNode(document.createAttribute(\"playsinline\"));\n          } catch (e) {\n            mediaElement.setAttribute(\"autoplay\", true);\n            mediaElement.setAttribute(\"playsinline\", true);\n          }\n\n          if (\"srcObject\" in mediaElement) {\n            mediaElement.srcObject = mediaStream;\n          } else {\n            mediaElement[!!navigator.mozGetUserMedia ? \"mozSrcObject\" : \"src\"] = !!navigator.mozGetUserMedia ? mediaStream : (window.URL || window.webkitURL).createObjectURL(mediaStream);\n          }\n        }\n\n        if (mediaElement.nodeName && mediaElement.nodeName.toLowerCase() === \"audio\") {\n          return getAudioElement(mediaElement, config);\n        }\n\n        var buttons = config.buttons || [\"mute-audio\", \"mute-video\", \"full-screen\", \"volume-slider\", \"stop\"];\n\n        buttons.has = function (element) {\n          return buttons.indexOf(element) !== -1;\n        };\n\n        config.toggle = config.toggle || [];\n\n        config.toggle.has = function (element) {\n          return config.toggle.indexOf(element) !== -1;\n        };\n\n        var mediaElementContainer = document.createElement(\"div\");\n        mediaElementContainer.className = \"media-container\";\n        var mediaControls = document.createElement(\"div\");\n        mediaControls.className = \"media-controls\";\n        mediaElementContainer.appendChild(mediaControls);\n\n        if (buttons.has(\"mute-audio\")) {\n          var muteAudio = document.createElement(\"div\");\n          muteAudio.className = \"control \" + (config.toggle.has(\"mute-audio\") ? \"unmute-audio selected\" : \"mute-audio\");\n          mediaControls.appendChild(muteAudio);\n\n          muteAudio.onclick = function () {\n            if (muteAudio.className.indexOf(\"unmute-audio\") !== -1) {\n              muteAudio.className = muteAudio.className.replace(\"unmute-audio selected\", \"mute-audio\");\n              mediaElement.muted = false;\n              mediaElement.volume = 1;\n              if (config.onUnMuted) config.onUnMuted(\"audio\");\n            } else {\n              muteAudio.className = muteAudio.className.replace(\"mute-audio\", \"unmute-audio selected\");\n              mediaElement.muted = true;\n              mediaElement.volume = 0;\n              if (config.onMuted) config.onMuted(\"audio\");\n            }\n          };\n        }\n\n        if (buttons.has(\"mute-video\")) {\n          var muteVideo = document.createElement(\"div\");\n          muteVideo.className = \"control \" + (config.toggle.has(\"mute-video\") ? \"unmute-video selected\" : \"mute-video\");\n          mediaControls.appendChild(muteVideo);\n\n          muteVideo.onclick = function () {\n            if (muteVideo.className.indexOf(\"unmute-video\") !== -1) {\n              muteVideo.className = muteVideo.className.replace(\"unmute-video selected\", \"mute-video\");\n              mediaElement.muted = false;\n              mediaElement.volume = 1;\n              mediaElement.play();\n              if (config.onUnMuted) config.onUnMuted(\"video\");\n            } else {\n              muteVideo.className = muteVideo.className.replace(\"mute-video\", \"unmute-video selected\");\n              mediaElement.muted = true;\n              mediaElement.volume = 0;\n              mediaElement.pause();\n              if (config.onMuted) config.onMuted(\"video\");\n            }\n          };\n        }\n\n        if (buttons.has(\"take-snapshot\")) {\n          var takeSnapshot = document.createElement(\"div\");\n          takeSnapshot.className = \"control take-snapshot\";\n          mediaControls.appendChild(takeSnapshot);\n\n          takeSnapshot.onclick = function () {\n            if (config.onTakeSnapshot) config.onTakeSnapshot();\n          };\n        }\n\n        if (buttons.has(\"stop\")) {\n          var stop = document.createElement(\"div\");\n          stop.className = \"control stop\";\n          mediaControls.appendChild(stop);\n\n          stop.onclick = function () {\n            mediaElementContainer.style.opacity = 0;\n            setTimeout(function () {\n              if (mediaElementContainer.parentNode) {\n                mediaElementContainer.parentNode.removeChild(mediaElementContainer);\n              }\n            }, 800);\n            if (config.onStopped) config.onStopped();\n          };\n        }\n\n        var volumeControl = document.createElement(\"div\");\n        volumeControl.className = \"volume-control\";\n\n        if (buttons.has(\"record-audio\")) {\n          var recordAudio = document.createElement(\"div\");\n          recordAudio.className = \"control \" + (config.toggle.has(\"record-audio\") ? \"stop-recording-audio selected\" : \"record-audio\");\n          volumeControl.appendChild(recordAudio);\n\n          recordAudio.onclick = function () {\n            if (recordAudio.className.indexOf(\"stop-recording-audio\") !== -1) {\n              recordAudio.className = recordAudio.className.replace(\"stop-recording-audio selected\", \"record-audio\");\n              if (config.onRecordingStopped) config.onRecordingStopped(\"audio\");\n            } else {\n              recordAudio.className = recordAudio.className.replace(\"record-audio\", \"stop-recording-audio selected\");\n              if (config.onRecordingStarted) config.onRecordingStarted(\"audio\");\n            }\n          };\n        }\n\n        if (buttons.has(\"record-video\")) {\n          var recordVideo = document.createElement(\"div\");\n          recordVideo.className = \"control \" + (config.toggle.has(\"record-video\") ? \"stop-recording-video selected\" : \"record-video\");\n          volumeControl.appendChild(recordVideo);\n\n          recordVideo.onclick = function () {\n            if (recordVideo.className.indexOf(\"stop-recording-video\") !== -1) {\n              recordVideo.className = recordVideo.className.replace(\"stop-recording-video selected\", \"record-video\");\n              if (config.onRecordingStopped) config.onRecordingStopped(\"video\");\n            } else {\n              recordVideo.className = recordVideo.className.replace(\"record-video\", \"stop-recording-video selected\");\n              if (config.onRecordingStarted) config.onRecordingStarted(\"video\");\n            }\n          };\n        }\n\n        if (buttons.has(\"volume-slider\")) {\n          var volumeSlider = document.createElement(\"div\");\n          volumeSlider.className = \"control volume-slider\";\n          volumeControl.appendChild(volumeSlider);\n          var slider = document.createElement(\"input\");\n          slider.type = \"range\";\n          slider.min = 0;\n          slider.max = 100;\n          slider.value = 100;\n\n          slider.onchange = function () {\n            mediaElement.volume = \".\" + slider.value.toString().substr(0, 1);\n          };\n\n          volumeSlider.appendChild(slider);\n        }\n\n        if (buttons.has(\"full-screen\")) {\n          var launchFullscreen = function launchFullscreen(element) {\n            if (element.requestFullscreen) {\n              element.requestFullscreen();\n            } else if (element.mozRequestFullScreen) {\n              element.mozRequestFullScreen();\n            } else if (element.webkitRequestFullscreen) {\n              element.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n            }\n          };\n\n          var exitFullScreen = function exitFullScreen() {\n            if (document.fullscreen) {\n              document.cancelFullScreen();\n            }\n\n            if (document.mozFullScreen) {\n              document.mozCancelFullScreen();\n            }\n\n            if (document.webkitIsFullScreen) {\n              document.webkitCancelFullScreen();\n            }\n          };\n\n          var screenStateChange = function screenStateChange(e) {\n            if (e.srcElement !== mediaElementContainer) return;\n            var isFullScreeMode = document.webkitIsFullScreen || document.mozFullScreen || document.fullscreen;\n            mediaElementContainer.style.width = (isFullScreeMode ? window.innerWidth - 20 : config.width) + \"px\";\n            mediaElementContainer.style.display = isFullScreeMode ? \"block\" : \"inline-block\";\n\n            if (config.height) {\n              mediaBox.style.height = (isFullScreeMode ? window.innerHeight - 20 : config.height) + \"px\";\n            }\n\n            if (!isFullScreeMode && config.onZoomout) config.onZoomout();\n            if (isFullScreeMode && config.onZoomin) config.onZoomin();\n\n            if (!isFullScreeMode && zoom.className.indexOf(\"zoom-out\") !== -1) {\n              zoom.className = zoom.className.replace(\"zoom-out selected\", \"zoom-in\");\n              if (config.onZoomout) config.onZoomout();\n            }\n\n            setTimeout(adjustControls, 1000);\n          };\n\n          var zoom = document.createElement(\"div\");\n          zoom.className = \"control \" + (config.toggle.has(\"zoom-in\") ? \"zoom-out selected\" : \"zoom-in\");\n\n          if (!slider && !recordAudio && !recordVideo && zoom) {\n            mediaControls.insertBefore(zoom, mediaControls.firstChild);\n          } else volumeControl.appendChild(zoom);\n\n          zoom.onclick = function () {\n            if (zoom.className.indexOf(\"zoom-out\") !== -1) {\n              zoom.className = zoom.className.replace(\"zoom-out selected\", \"zoom-in\");\n              exitFullScreen();\n            } else {\n              zoom.className = zoom.className.replace(\"zoom-in\", \"zoom-out selected\");\n              launchFullscreen(mediaElementContainer);\n            }\n          };\n\n          document.addEventListener(\"fullscreenchange\", screenStateChange, false);\n          document.addEventListener(\"mozfullscreenchange\", screenStateChange, false);\n          document.addEventListener(\"webkitfullscreenchange\", screenStateChange, false);\n        }\n\n        if (buttons.has(\"volume-slider\") || buttons.has(\"full-screen\") || buttons.has(\"record-audio\") || buttons.has(\"record-video\")) {\n          mediaElementContainer.appendChild(volumeControl);\n        }\n\n        var mediaBox = document.createElement(\"div\");\n        mediaBox.className = \"media-box\";\n        mediaElementContainer.appendChild(mediaBox);\n\n        if (config.title) {\n          var h2 = document.createElement(\"h2\");\n          h2.innerHTML = config.title;\n          h2.setAttribute(\"style\", \"position: absolute;color:white;font-size:17px;text-shadow: 1px 1px black;padding:0;margin:0;text-align: left; margin-top: 10px; margin-left: 10px; display: block; border: 0;line-height:1.5;z-index:1;\");\n          mediaBox.appendChild(h2);\n        }\n\n        mediaBox.appendChild(mediaElement);\n        if (!config.width) config.width = window.innerWidth / 2 - 50;\n        mediaElementContainer.style.width = config.width + \"px\";\n\n        if (config.height) {\n          mediaBox.style.height = config.height + \"px\";\n        }\n\n        mediaBox.querySelector(\"video\").style.maxHeight = window.innerHeight + \"px\";\n        var times = 0;\n\n        function adjustControls() {\n          mediaControls.style.marginLeft = mediaElementContainer.clientWidth - mediaControls.clientWidth - 2 + \"px\";\n\n          if (slider) {\n            slider.style.width = mediaElementContainer.clientWidth / 3 + \"px\";\n            volumeControl.style.marginLeft = mediaElementContainer.clientWidth / 3 - 30 + \"px\";\n            if (zoom) zoom.style[\"border-top-right-radius\"] = \"5px\";\n          } else {\n            volumeControl.style.marginLeft = mediaElementContainer.clientWidth - volumeControl.clientWidth - 2 + \"px\";\n          }\n\n          volumeControl.style.marginTop = mediaElementContainer.clientHeight - volumeControl.clientHeight - 2 + \"px\";\n\n          if (times < 10) {\n            times++;\n            setTimeout(adjustControls, 1000);\n          } else times = 0;\n        }\n\n        if (config.showOnMouseEnter || typeof config.showOnMouseEnter === \"undefined\") {\n          mediaElementContainer.onmouseenter = mediaElementContainer.onmousedown = function () {\n            adjustControls();\n            mediaControls.style.opacity = 1;\n            volumeControl.style.opacity = 1;\n          };\n\n          mediaElementContainer.onmouseleave = function () {\n            mediaControls.style.opacity = 0;\n            volumeControl.style.opacity = 0;\n          };\n        } else {\n          setTimeout(function () {\n            adjustControls();\n            setTimeout(function () {\n              mediaControls.style.opacity = 1;\n              volumeControl.style.opacity = 1;\n            }, 300);\n          }, 700);\n        }\n\n        adjustControls();\n\n        mediaElementContainer.toggle = function (clasName) {\n          if (typeof clasName != \"string\") {\n            for (var i = 0; i < clasName.length; i++) {\n              mediaElementContainer.toggle(clasName[i]);\n            }\n\n            return;\n          }\n\n          if (clasName === \"mute-audio\" && muteAudio) muteAudio.onclick();\n          if (clasName === \"mute-video\" && muteVideo) muteVideo.onclick();\n          if (clasName === \"record-audio\" && recordAudio) recordAudio.onclick();\n          if (clasName === \"record-video\" && recordVideo) recordVideo.onclick();\n          if (clasName === \"stop\" && stop) stop.onclick();\n          return this;\n        };\n\n        mediaElementContainer.media = mediaElement;\n        return mediaElementContainer;\n      }; // __________________\n      // getAudioElement.js\n\n\n      function getAudioElement(mediaElement, config) {\n        config = config || {};\n\n        if (!mediaElement.nodeName || mediaElement.nodeName.toLowerCase() !== \"audio\" && mediaElement.nodeName.toLowerCase() !== \"video\") {\n          var mediaStream = mediaElement;\n          mediaElement = document.createElement(\"audio\");\n\n          try {\n            mediaElement.setAttributeNode(document.createAttribute(\"autoplay\"));\n            mediaElement.setAttributeNode(document.createAttribute(\"controls\"));\n          } catch (e) {\n            mediaElement.setAttribute(\"autoplay\", true);\n            mediaElement.setAttribute(\"controls\", true);\n          }\n\n          if (\"srcObject\" in mediaElement) {\n            mediaElement.mediaElement = mediaStream;\n          } else {\n            mediaElement[!!navigator.mozGetUserMedia ? \"mozSrcObject\" : \"src\"] = !!navigator.mozGetUserMedia ? mediaStream : (window.URL || window.webkitURL).createObjectURL(mediaStream);\n          }\n        }\n\n        config.toggle = config.toggle || [];\n\n        config.toggle.has = function (element) {\n          return config.toggle.indexOf(element) !== -1;\n        };\n\n        var mediaElementContainer = document.createElement(\"div\");\n        mediaElementContainer.className = \"media-container\";\n        var mediaControls = document.createElement(\"div\");\n        mediaControls.className = \"media-controls\";\n        mediaElementContainer.appendChild(mediaControls);\n        var muteAudio = document.createElement(\"div\");\n        muteAudio.className = \"control \" + (config.toggle.has(\"mute-audio\") ? \"unmute-audio selected\" : \"mute-audio\");\n        mediaControls.appendChild(muteAudio);\n        muteAudio.style[\"border-top-left-radius\"] = \"5px\";\n\n        muteAudio.onclick = function () {\n          if (muteAudio.className.indexOf(\"unmute-audio\") !== -1) {\n            muteAudio.className = muteAudio.className.replace(\"unmute-audio selected\", \"mute-audio\");\n            mediaElement.muted = false;\n            if (config.onUnMuted) config.onUnMuted(\"audio\");\n          } else {\n            muteAudio.className = muteAudio.className.replace(\"mute-audio\", \"unmute-audio selected\");\n            mediaElement.muted = true;\n            if (config.onMuted) config.onMuted(\"audio\");\n          }\n        };\n\n        if (!config.buttons || config.buttons && config.buttons.indexOf(\"record-audio\") !== -1) {\n          var recordAudio = document.createElement(\"div\");\n          recordAudio.className = \"control \" + (config.toggle.has(\"record-audio\") ? \"stop-recording-audio selected\" : \"record-audio\");\n          mediaControls.appendChild(recordAudio);\n\n          recordAudio.onclick = function () {\n            if (recordAudio.className.indexOf(\"stop-recording-audio\") !== -1) {\n              recordAudio.className = recordAudio.className.replace(\"stop-recording-audio selected\", \"record-audio\");\n              if (config.onRecordingStopped) config.onRecordingStopped(\"audio\");\n            } else {\n              recordAudio.className = recordAudio.className.replace(\"record-audio\", \"stop-recording-audio selected\");\n              if (config.onRecordingStarted) config.onRecordingStarted(\"audio\");\n            }\n          };\n        }\n\n        var volumeSlider = document.createElement(\"div\");\n        volumeSlider.className = \"control volume-slider\";\n        volumeSlider.style.width = \"auto\";\n        mediaControls.appendChild(volumeSlider);\n        var slider = document.createElement(\"input\");\n        slider.style.marginTop = \"11px\";\n        slider.style.width = \" 200px\";\n\n        if (config.buttons && config.buttons.indexOf(\"record-audio\") === -1) {\n          slider.style.width = \" 241px\";\n        }\n\n        slider.type = \"range\";\n        slider.min = 0;\n        slider.max = 100;\n        slider.value = 100;\n\n        slider.onchange = function () {\n          mediaElement.volume = \".\" + slider.value.toString().substr(0, 1);\n        };\n\n        volumeSlider.appendChild(slider);\n        var stop = document.createElement(\"div\");\n        stop.className = \"control stop\";\n        mediaControls.appendChild(stop);\n\n        stop.onclick = function () {\n          mediaElementContainer.style.opacity = 0;\n          setTimeout(function () {\n            if (mediaElementContainer.parentNode) {\n              mediaElementContainer.parentNode.removeChild(mediaElementContainer);\n            }\n          }, 800);\n          if (config.onStopped) config.onStopped();\n        };\n\n        stop.style[\"border-top-right-radius\"] = \"5px\";\n        stop.style[\"border-bottom-right-radius\"] = \"5px\";\n        var mediaBox = document.createElement(\"div\");\n        mediaBox.className = \"media-box\";\n        mediaElementContainer.appendChild(mediaBox);\n        var h2 = document.createElement(\"h2\");\n        h2.innerHTML = config.title || \"Audio Element\";\n        h2.setAttribute(\"style\", \"position: absolute;color: rgb(160, 160, 160);font-size: 20px;text-shadow: 1px 1px rgb(255, 255, 255);padding:0;margin:0;\");\n        mediaBox.appendChild(h2);\n        mediaBox.appendChild(mediaElement);\n        mediaElementContainer.style.width = \"329px\";\n        mediaBox.style.height = \"90px\";\n        h2.style.width = mediaElementContainer.style.width;\n        h2.style.height = \"50px\";\n        h2.style.overflow = \"hidden\";\n        var times = 0;\n\n        function adjustControls() {\n          mediaControls.style.marginLeft = mediaElementContainer.clientWidth - mediaControls.clientWidth - 7 + \"px\";\n          mediaControls.style.marginTop = mediaElementContainer.clientHeight - mediaControls.clientHeight - 6 + \"px\";\n\n          if (times < 10) {\n            times++;\n            setTimeout(adjustControls, 1000);\n          } else times = 0;\n        }\n\n        if (config.showOnMouseEnter || typeof config.showOnMouseEnter === \"undefined\") {\n          mediaElementContainer.onmouseenter = mediaElementContainer.onmousedown = function () {\n            adjustControls();\n            mediaControls.style.opacity = 1;\n          };\n\n          mediaElementContainer.onmouseleave = function () {\n            mediaControls.style.opacity = 0;\n          };\n        } else {\n          setTimeout(function () {\n            adjustControls();\n            setTimeout(function () {\n              mediaControls.style.opacity = 1;\n            }, 300);\n          }, 700);\n        }\n\n        adjustControls();\n\n        mediaElementContainer.toggle = function (clasName) {\n          if (typeof clasName != \"string\") {\n            for (var i = 0; i < clasName.length; i++) {\n              mediaElementContainer.toggle(clasName[i]);\n            }\n\n            return;\n          }\n\n          if (clasName === \"mute-audio\" && muteAudio) muteAudio.onclick();\n          if (clasName === \"record-audio\" && recordAudio) recordAudio.onclick();\n          if (clasName === \"stop\" && stop) stop.onclick();\n          return this;\n        };\n\n        mediaElementContainer.media = mediaElement;\n        return mediaElementContainer;\n      }\n    }\n  }]);\n\n  return getHTMLMediaElement;\n}();\nexport default getHTMLMediaElement;","map":{"version":3,"sources":["C:\\React\\react-gradu\\src\\components\\independent\\webRTCRoom\\getHTMLMediaElement.jsx"],"names":["React","Component","getHTMLMediaElement","mediaElement","config","nodeName","toLowerCase","getVideoTracks","length","getAudioElement","mediaStream","document","createElement","setAttributeNode","createAttribute","e","setAttribute","srcObject","navigator","mozGetUserMedia","window","URL","webkitURL","createObjectURL","buttons","has","element","indexOf","toggle","mediaElementContainer","className","mediaControls","appendChild","muteAudio","onclick","replace","muted","volume","onUnMuted","onMuted","muteVideo","play","pause","takeSnapshot","onTakeSnapshot","stop","style","opacity","setTimeout","parentNode","removeChild","onStopped","volumeControl","recordAudio","onRecordingStopped","onRecordingStarted","recordVideo","volumeSlider","slider","type","min","max","value","onchange","toString","substr","launchFullscreen","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","exitFullScreen","fullscreen","cancelFullScreen","mozFullScreen","mozCancelFullScreen","webkitIsFullScreen","webkitCancelFullScreen","screenStateChange","srcElement","isFullScreeMode","width","innerWidth","display","height","mediaBox","innerHeight","onZoomout","onZoomin","zoom","adjustControls","insertBefore","firstChild","addEventListener","title","h2","innerHTML","querySelector","maxHeight","times","marginLeft","clientWidth","marginTop","clientHeight","showOnMouseEnter","onmouseenter","onmousedown","onmouseleave","clasName","i","media","overflow"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nexport class getHTMLMediaElement {\r\n  render() {\r\n    const getHTMLMediaElement = (mediaElement, config) => {\r\n      config = config || {};\r\n\r\n      if (\r\n        !mediaElement.nodeName ||\r\n        (mediaElement.nodeName.toLowerCase() !== \"audio\" &&\r\n          mediaElement.nodeName.toLowerCase() !== \"video\")\r\n      ) {\r\n        if (!mediaElement.getVideoTracks().length) {\r\n          return getAudioElement(mediaElement, config);\r\n        }\r\n\r\n        var mediaStream = mediaElement;\r\n        mediaElement = document.createElement(\r\n          mediaStream.getVideoTracks().length ? \"video\" : \"audio\"\r\n        );\r\n\r\n        try {\r\n          mediaElement.setAttributeNode(document.createAttribute(\"autoplay\"));\r\n          mediaElement.setAttributeNode(\r\n            document.createAttribute(\"playsinline\")\r\n          );\r\n        } catch (e) {\r\n          mediaElement.setAttribute(\"autoplay\", true);\r\n          mediaElement.setAttribute(\"playsinline\", true);\r\n        }\r\n\r\n        if (\"srcObject\" in mediaElement) {\r\n          mediaElement.srcObject = mediaStream;\r\n        } else {\r\n          mediaElement[\r\n            !!navigator.mozGetUserMedia ? \"mozSrcObject\" : \"src\"\r\n          ] = !!navigator.mozGetUserMedia\r\n            ? mediaStream\r\n            : (window.URL || window.webkitURL).createObjectURL(mediaStream);\r\n        }\r\n      }\r\n\r\n      if (\r\n        mediaElement.nodeName &&\r\n        mediaElement.nodeName.toLowerCase() === \"audio\"\r\n      ) {\r\n        return getAudioElement(mediaElement, config);\r\n      }\r\n\r\n      var buttons = config.buttons || [\r\n        \"mute-audio\",\r\n        \"mute-video\",\r\n        \"full-screen\",\r\n        \"volume-slider\",\r\n        \"stop\"\r\n      ];\r\n      buttons.has = function(element) {\r\n        return buttons.indexOf(element) !== -1;\r\n      };\r\n\r\n      config.toggle = config.toggle || [];\r\n      config.toggle.has = function(element) {\r\n        return config.toggle.indexOf(element) !== -1;\r\n      };\r\n\r\n      var mediaElementContainer = document.createElement(\"div\");\r\n      mediaElementContainer.className = \"media-container\";\r\n\r\n      var mediaControls = document.createElement(\"div\");\r\n      mediaControls.className = \"media-controls\";\r\n      mediaElementContainer.appendChild(mediaControls);\r\n\r\n      if (buttons.has(\"mute-audio\")) {\r\n        var muteAudio = document.createElement(\"div\");\r\n        muteAudio.className =\r\n          \"control \" +\r\n          (config.toggle.has(\"mute-audio\")\r\n            ? \"unmute-audio selected\"\r\n            : \"mute-audio\");\r\n        mediaControls.appendChild(muteAudio);\r\n\r\n        muteAudio.onclick = function() {\r\n          if (muteAudio.className.indexOf(\"unmute-audio\") !== -1) {\r\n            muteAudio.className = muteAudio.className.replace(\r\n              \"unmute-audio selected\",\r\n              \"mute-audio\"\r\n            );\r\n            mediaElement.muted = false;\r\n            mediaElement.volume = 1;\r\n            if (config.onUnMuted) config.onUnMuted(\"audio\");\r\n          } else {\r\n            muteAudio.className = muteAudio.className.replace(\r\n              \"mute-audio\",\r\n              \"unmute-audio selected\"\r\n            );\r\n            mediaElement.muted = true;\r\n            mediaElement.volume = 0;\r\n            if (config.onMuted) config.onMuted(\"audio\");\r\n          }\r\n        };\r\n      }\r\n\r\n      if (buttons.has(\"mute-video\")) {\r\n        var muteVideo = document.createElement(\"div\");\r\n        muteVideo.className =\r\n          \"control \" +\r\n          (config.toggle.has(\"mute-video\")\r\n            ? \"unmute-video selected\"\r\n            : \"mute-video\");\r\n        mediaControls.appendChild(muteVideo);\r\n\r\n        muteVideo.onclick = function() {\r\n          if (muteVideo.className.indexOf(\"unmute-video\") !== -1) {\r\n            muteVideo.className = muteVideo.className.replace(\r\n              \"unmute-video selected\",\r\n              \"mute-video\"\r\n            );\r\n            mediaElement.muted = false;\r\n            mediaElement.volume = 1;\r\n            mediaElement.play();\r\n            if (config.onUnMuted) config.onUnMuted(\"video\");\r\n          } else {\r\n            muteVideo.className = muteVideo.className.replace(\r\n              \"mute-video\",\r\n              \"unmute-video selected\"\r\n            );\r\n            mediaElement.muted = true;\r\n            mediaElement.volume = 0;\r\n            mediaElement.pause();\r\n            if (config.onMuted) config.onMuted(\"video\");\r\n          }\r\n        };\r\n      }\r\n\r\n      if (buttons.has(\"take-snapshot\")) {\r\n        var takeSnapshot = document.createElement(\"div\");\r\n        takeSnapshot.className = \"control take-snapshot\";\r\n        mediaControls.appendChild(takeSnapshot);\r\n\r\n        takeSnapshot.onclick = function() {\r\n          if (config.onTakeSnapshot) config.onTakeSnapshot();\r\n        };\r\n      }\r\n\r\n      if (buttons.has(\"stop\")) {\r\n        var stop = document.createElement(\"div\");\r\n        stop.className = \"control stop\";\r\n        mediaControls.appendChild(stop);\r\n\r\n        stop.onclick = function() {\r\n          mediaElementContainer.style.opacity = 0;\r\n          setTimeout(function() {\r\n            if (mediaElementContainer.parentNode) {\r\n              mediaElementContainer.parentNode.removeChild(\r\n                mediaElementContainer\r\n              );\r\n            }\r\n          }, 800);\r\n          if (config.onStopped) config.onStopped();\r\n        };\r\n      }\r\n\r\n      var volumeControl = document.createElement(\"div\");\r\n      volumeControl.className = \"volume-control\";\r\n\r\n      if (buttons.has(\"record-audio\")) {\r\n        var recordAudio = document.createElement(\"div\");\r\n        recordAudio.className =\r\n          \"control \" +\r\n          (config.toggle.has(\"record-audio\")\r\n            ? \"stop-recording-audio selected\"\r\n            : \"record-audio\");\r\n        volumeControl.appendChild(recordAudio);\r\n\r\n        recordAudio.onclick = function() {\r\n          if (recordAudio.className.indexOf(\"stop-recording-audio\") !== -1) {\r\n            recordAudio.className = recordAudio.className.replace(\r\n              \"stop-recording-audio selected\",\r\n              \"record-audio\"\r\n            );\r\n            if (config.onRecordingStopped) config.onRecordingStopped(\"audio\");\r\n          } else {\r\n            recordAudio.className = recordAudio.className.replace(\r\n              \"record-audio\",\r\n              \"stop-recording-audio selected\"\r\n            );\r\n            if (config.onRecordingStarted) config.onRecordingStarted(\"audio\");\r\n          }\r\n        };\r\n      }\r\n\r\n      if (buttons.has(\"record-video\")) {\r\n        var recordVideo = document.createElement(\"div\");\r\n        recordVideo.className =\r\n          \"control \" +\r\n          (config.toggle.has(\"record-video\")\r\n            ? \"stop-recording-video selected\"\r\n            : \"record-video\");\r\n        volumeControl.appendChild(recordVideo);\r\n\r\n        recordVideo.onclick = function() {\r\n          if (recordVideo.className.indexOf(\"stop-recording-video\") !== -1) {\r\n            recordVideo.className = recordVideo.className.replace(\r\n              \"stop-recording-video selected\",\r\n              \"record-video\"\r\n            );\r\n            if (config.onRecordingStopped) config.onRecordingStopped(\"video\");\r\n          } else {\r\n            recordVideo.className = recordVideo.className.replace(\r\n              \"record-video\",\r\n              \"stop-recording-video selected\"\r\n            );\r\n            if (config.onRecordingStarted) config.onRecordingStarted(\"video\");\r\n          }\r\n        };\r\n      }\r\n\r\n      if (buttons.has(\"volume-slider\")) {\r\n        var volumeSlider = document.createElement(\"div\");\r\n        volumeSlider.className = \"control volume-slider\";\r\n        volumeControl.appendChild(volumeSlider);\r\n\r\n        var slider = document.createElement(\"input\");\r\n        slider.type = \"range\";\r\n        slider.min = 0;\r\n        slider.max = 100;\r\n        slider.value = 100;\r\n        slider.onchange = function() {\r\n          mediaElement.volume = \".\" + slider.value.toString().substr(0, 1);\r\n        };\r\n        volumeSlider.appendChild(slider);\r\n      }\r\n\r\n      if (buttons.has(\"full-screen\")) {\r\n        var zoom = document.createElement(\"div\");\r\n        zoom.className =\r\n          \"control \" +\r\n          (config.toggle.has(\"zoom-in\") ? \"zoom-out selected\" : \"zoom-in\");\r\n\r\n        if (!slider && !recordAudio && !recordVideo && zoom) {\r\n          mediaControls.insertBefore(zoom, mediaControls.firstChild);\r\n        } else volumeControl.appendChild(zoom);\r\n\r\n        zoom.onclick = function() {\r\n          if (zoom.className.indexOf(\"zoom-out\") !== -1) {\r\n            zoom.className = zoom.className.replace(\r\n              \"zoom-out selected\",\r\n              \"zoom-in\"\r\n            );\r\n            exitFullScreen();\r\n          } else {\r\n            zoom.className = zoom.className.replace(\r\n              \"zoom-in\",\r\n              \"zoom-out selected\"\r\n            );\r\n            launchFullscreen(mediaElementContainer);\r\n          }\r\n        };\r\n\r\n        function launchFullscreen(element) {\r\n          if (element.requestFullscreen) {\r\n            element.requestFullscreen();\r\n          } else if (element.mozRequestFullScreen) {\r\n            element.mozRequestFullScreen();\r\n          } else if (element.webkitRequestFullscreen) {\r\n            element.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\r\n          }\r\n        }\r\n\r\n        function exitFullScreen() {\r\n          if (document.fullscreen) {\r\n            document.cancelFullScreen();\r\n          }\r\n\r\n          if (document.mozFullScreen) {\r\n            document.mozCancelFullScreen();\r\n          }\r\n\r\n          if (document.webkitIsFullScreen) {\r\n            document.webkitCancelFullScreen();\r\n          }\r\n        }\r\n\r\n        function screenStateChange(e) {\r\n          if (e.srcElement !== mediaElementContainer) return;\r\n\r\n          var isFullScreeMode =\r\n            document.webkitIsFullScreen ||\r\n            document.mozFullScreen ||\r\n            document.fullscreen;\r\n\r\n          mediaElementContainer.style.width =\r\n            (isFullScreeMode ? window.innerWidth - 20 : config.width) + \"px\";\r\n          mediaElementContainer.style.display = isFullScreeMode\r\n            ? \"block\"\r\n            : \"inline-block\";\r\n\r\n          if (config.height) {\r\n            mediaBox.style.height =\r\n              (isFullScreeMode ? window.innerHeight - 20 : config.height) +\r\n              \"px\";\r\n          }\r\n\r\n          if (!isFullScreeMode && config.onZoomout) config.onZoomout();\r\n          if (isFullScreeMode && config.onZoomin) config.onZoomin();\r\n\r\n          if (!isFullScreeMode && zoom.className.indexOf(\"zoom-out\") !== -1) {\r\n            zoom.className = zoom.className.replace(\r\n              \"zoom-out selected\",\r\n              \"zoom-in\"\r\n            );\r\n            if (config.onZoomout) config.onZoomout();\r\n          }\r\n          setTimeout(adjustControls, 1000);\r\n        }\r\n\r\n        document.addEventListener(\"fullscreenchange\", screenStateChange, false);\r\n        document.addEventListener(\r\n          \"mozfullscreenchange\",\r\n          screenStateChange,\r\n          false\r\n        );\r\n        document.addEventListener(\r\n          \"webkitfullscreenchange\",\r\n          screenStateChange,\r\n          false\r\n        );\r\n      }\r\n\r\n      if (\r\n        buttons.has(\"volume-slider\") ||\r\n        buttons.has(\"full-screen\") ||\r\n        buttons.has(\"record-audio\") ||\r\n        buttons.has(\"record-video\")\r\n      ) {\r\n        mediaElementContainer.appendChild(volumeControl);\r\n      }\r\n\r\n      var mediaBox = document.createElement(\"div\");\r\n      mediaBox.className = \"media-box\";\r\n      mediaElementContainer.appendChild(mediaBox);\r\n\r\n      if (config.title) {\r\n        var h2 = document.createElement(\"h2\");\r\n        h2.innerHTML = config.title;\r\n        h2.setAttribute(\r\n          \"style\",\r\n          \"position: absolute;color:white;font-size:17px;text-shadow: 1px 1px black;padding:0;margin:0;text-align: left; margin-top: 10px; margin-left: 10px; display: block; border: 0;line-height:1.5;z-index:1;\"\r\n        );\r\n        mediaBox.appendChild(h2);\r\n      }\r\n\r\n      mediaBox.appendChild(mediaElement);\r\n\r\n      if (!config.width) config.width = window.innerWidth / 2 - 50;\r\n\r\n      mediaElementContainer.style.width = config.width + \"px\";\r\n\r\n      if (config.height) {\r\n        mediaBox.style.height = config.height + \"px\";\r\n      }\r\n\r\n      mediaBox.querySelector(\"video\").style.maxHeight =\r\n        window.innerHeight + \"px\";\r\n\r\n      var times = 0;\r\n\r\n      function adjustControls() {\r\n        mediaControls.style.marginLeft =\r\n          mediaElementContainer.clientWidth -\r\n          mediaControls.clientWidth -\r\n          2 +\r\n          \"px\";\r\n\r\n        if (slider) {\r\n          slider.style.width = mediaElementContainer.clientWidth / 3 + \"px\";\r\n          volumeControl.style.marginLeft =\r\n            mediaElementContainer.clientWidth / 3 - 30 + \"px\";\r\n\r\n          if (zoom) zoom.style[\"border-top-right-radius\"] = \"5px\";\r\n        } else {\r\n          volumeControl.style.marginLeft =\r\n            mediaElementContainer.clientWidth -\r\n            volumeControl.clientWidth -\r\n            2 +\r\n            \"px\";\r\n        }\r\n\r\n        volumeControl.style.marginTop =\r\n          mediaElementContainer.clientHeight -\r\n          volumeControl.clientHeight -\r\n          2 +\r\n          \"px\";\r\n\r\n        if (times < 10) {\r\n          times++;\r\n          setTimeout(adjustControls, 1000);\r\n        } else times = 0;\r\n      }\r\n\r\n      if (\r\n        config.showOnMouseEnter ||\r\n        typeof config.showOnMouseEnter === \"undefined\"\r\n      ) {\r\n        mediaElementContainer.onmouseenter = mediaElementContainer.onmousedown = function() {\r\n          adjustControls();\r\n          mediaControls.style.opacity = 1;\r\n          volumeControl.style.opacity = 1;\r\n        };\r\n\r\n        mediaElementContainer.onmouseleave = function() {\r\n          mediaControls.style.opacity = 0;\r\n          volumeControl.style.opacity = 0;\r\n        };\r\n      } else {\r\n        setTimeout(function() {\r\n          adjustControls();\r\n          setTimeout(function() {\r\n            mediaControls.style.opacity = 1;\r\n            volumeControl.style.opacity = 1;\r\n          }, 300);\r\n        }, 700);\r\n      }\r\n\r\n      adjustControls();\r\n\r\n      mediaElementContainer.toggle = function(clasName) {\r\n        if (typeof clasName != \"string\") {\r\n          for (var i = 0; i < clasName.length; i++) {\r\n            mediaElementContainer.toggle(clasName[i]);\r\n          }\r\n          return;\r\n        }\r\n\r\n        if (clasName === \"mute-audio\" && muteAudio) muteAudio.onclick();\r\n        if (clasName === \"mute-video\" && muteVideo) muteVideo.onclick();\r\n\r\n        if (clasName === \"record-audio\" && recordAudio) recordAudio.onclick();\r\n        if (clasName === \"record-video\" && recordVideo) recordVideo.onclick();\r\n\r\n        if (clasName === \"stop\" && stop) stop.onclick();\r\n\r\n        return this;\r\n      };\r\n\r\n      mediaElementContainer.media = mediaElement;\r\n\r\n      return mediaElementContainer;\r\n    };\r\n    // __________________\r\n    // getAudioElement.js\r\n\r\n    function getAudioElement(mediaElement, config) {\r\n      config = config || {};\r\n\r\n      if (\r\n        !mediaElement.nodeName ||\r\n        (mediaElement.nodeName.toLowerCase() !== \"audio\" &&\r\n          mediaElement.nodeName.toLowerCase() !== \"video\")\r\n      ) {\r\n        var mediaStream = mediaElement;\r\n        mediaElement = document.createElement(\"audio\");\r\n\r\n        try {\r\n          mediaElement.setAttributeNode(document.createAttribute(\"autoplay\"));\r\n          mediaElement.setAttributeNode(document.createAttribute(\"controls\"));\r\n        } catch (e) {\r\n          mediaElement.setAttribute(\"autoplay\", true);\r\n          mediaElement.setAttribute(\"controls\", true);\r\n        }\r\n\r\n        if (\"srcObject\" in mediaElement) {\r\n          mediaElement.mediaElement = mediaStream;\r\n        } else {\r\n          mediaElement[\r\n            !!navigator.mozGetUserMedia ? \"mozSrcObject\" : \"src\"\r\n          ] = !!navigator.mozGetUserMedia\r\n            ? mediaStream\r\n            : (window.URL || window.webkitURL).createObjectURL(mediaStream);\r\n        }\r\n      }\r\n\r\n      config.toggle = config.toggle || [];\r\n      config.toggle.has = function(element) {\r\n        return config.toggle.indexOf(element) !== -1;\r\n      };\r\n\r\n      var mediaElementContainer = document.createElement(\"div\");\r\n      mediaElementContainer.className = \"media-container\";\r\n\r\n      var mediaControls = document.createElement(\"div\");\r\n      mediaControls.className = \"media-controls\";\r\n      mediaElementContainer.appendChild(mediaControls);\r\n\r\n      var muteAudio = document.createElement(\"div\");\r\n      muteAudio.className =\r\n        \"control \" +\r\n        (config.toggle.has(\"mute-audio\")\r\n          ? \"unmute-audio selected\"\r\n          : \"mute-audio\");\r\n      mediaControls.appendChild(muteAudio);\r\n\r\n      muteAudio.style[\"border-top-left-radius\"] = \"5px\";\r\n\r\n      muteAudio.onclick = function() {\r\n        if (muteAudio.className.indexOf(\"unmute-audio\") !== -1) {\r\n          muteAudio.className = muteAudio.className.replace(\r\n            \"unmute-audio selected\",\r\n            \"mute-audio\"\r\n          );\r\n          mediaElement.muted = false;\r\n          if (config.onUnMuted) config.onUnMuted(\"audio\");\r\n        } else {\r\n          muteAudio.className = muteAudio.className.replace(\r\n            \"mute-audio\",\r\n            \"unmute-audio selected\"\r\n          );\r\n          mediaElement.muted = true;\r\n          if (config.onMuted) config.onMuted(\"audio\");\r\n        }\r\n      };\r\n\r\n      if (\r\n        !config.buttons ||\r\n        (config.buttons && config.buttons.indexOf(\"record-audio\") !== -1)\r\n      ) {\r\n        var recordAudio = document.createElement(\"div\");\r\n        recordAudio.className =\r\n          \"control \" +\r\n          (config.toggle.has(\"record-audio\")\r\n            ? \"stop-recording-audio selected\"\r\n            : \"record-audio\");\r\n        mediaControls.appendChild(recordAudio);\r\n\r\n        recordAudio.onclick = function() {\r\n          if (recordAudio.className.indexOf(\"stop-recording-audio\") !== -1) {\r\n            recordAudio.className = recordAudio.className.replace(\r\n              \"stop-recording-audio selected\",\r\n              \"record-audio\"\r\n            );\r\n            if (config.onRecordingStopped) config.onRecordingStopped(\"audio\");\r\n          } else {\r\n            recordAudio.className = recordAudio.className.replace(\r\n              \"record-audio\",\r\n              \"stop-recording-audio selected\"\r\n            );\r\n            if (config.onRecordingStarted) config.onRecordingStarted(\"audio\");\r\n          }\r\n        };\r\n      }\r\n\r\n      var volumeSlider = document.createElement(\"div\");\r\n      volumeSlider.className = \"control volume-slider\";\r\n      volumeSlider.style.width = \"auto\";\r\n      mediaControls.appendChild(volumeSlider);\r\n\r\n      var slider = document.createElement(\"input\");\r\n      slider.style.marginTop = \"11px\";\r\n      slider.style.width = \" 200px\";\r\n\r\n      if (config.buttons && config.buttons.indexOf(\"record-audio\") === -1) {\r\n        slider.style.width = \" 241px\";\r\n      }\r\n\r\n      slider.type = \"range\";\r\n      slider.min = 0;\r\n      slider.max = 100;\r\n      slider.value = 100;\r\n      slider.onchange = function() {\r\n        mediaElement.volume = \".\" + slider.value.toString().substr(0, 1);\r\n      };\r\n      volumeSlider.appendChild(slider);\r\n\r\n      var stop = document.createElement(\"div\");\r\n      stop.className = \"control stop\";\r\n      mediaControls.appendChild(stop);\r\n\r\n      stop.onclick = function() {\r\n        mediaElementContainer.style.opacity = 0;\r\n        setTimeout(function() {\r\n          if (mediaElementContainer.parentNode) {\r\n            mediaElementContainer.parentNode.removeChild(mediaElementContainer);\r\n          }\r\n        }, 800);\r\n        if (config.onStopped) config.onStopped();\r\n      };\r\n\r\n      stop.style[\"border-top-right-radius\"] = \"5px\";\r\n      stop.style[\"border-bottom-right-radius\"] = \"5px\";\r\n\r\n      var mediaBox = document.createElement(\"div\");\r\n      mediaBox.className = \"media-box\";\r\n      mediaElementContainer.appendChild(mediaBox);\r\n\r\n      var h2 = document.createElement(\"h2\");\r\n      h2.innerHTML = config.title || \"Audio Element\";\r\n      h2.setAttribute(\r\n        \"style\",\r\n        \"position: absolute;color: rgb(160, 160, 160);font-size: 20px;text-shadow: 1px 1px rgb(255, 255, 255);padding:0;margin:0;\"\r\n      );\r\n      mediaBox.appendChild(h2);\r\n\r\n      mediaBox.appendChild(mediaElement);\r\n\r\n      mediaElementContainer.style.width = \"329px\";\r\n      mediaBox.style.height = \"90px\";\r\n\r\n      h2.style.width = mediaElementContainer.style.width;\r\n      h2.style.height = \"50px\";\r\n      h2.style.overflow = \"hidden\";\r\n\r\n      var times = 0;\r\n\r\n      function adjustControls() {\r\n        mediaControls.style.marginLeft =\r\n          mediaElementContainer.clientWidth -\r\n          mediaControls.clientWidth -\r\n          7 +\r\n          \"px\";\r\n        mediaControls.style.marginTop =\r\n          mediaElementContainer.clientHeight -\r\n          mediaControls.clientHeight -\r\n          6 +\r\n          \"px\";\r\n        if (times < 10) {\r\n          times++;\r\n          setTimeout(adjustControls, 1000);\r\n        } else times = 0;\r\n      }\r\n\r\n      if (\r\n        config.showOnMouseEnter ||\r\n        typeof config.showOnMouseEnter === \"undefined\"\r\n      ) {\r\n        mediaElementContainer.onmouseenter = mediaElementContainer.onmousedown = function() {\r\n          adjustControls();\r\n          mediaControls.style.opacity = 1;\r\n        };\r\n\r\n        mediaElementContainer.onmouseleave = function() {\r\n          mediaControls.style.opacity = 0;\r\n        };\r\n      } else {\r\n        setTimeout(function() {\r\n          adjustControls();\r\n          setTimeout(function() {\r\n            mediaControls.style.opacity = 1;\r\n          }, 300);\r\n        }, 700);\r\n      }\r\n\r\n      adjustControls();\r\n\r\n      mediaElementContainer.toggle = function(clasName) {\r\n        if (typeof clasName != \"string\") {\r\n          for (var i = 0; i < clasName.length; i++) {\r\n            mediaElementContainer.toggle(clasName[i]);\r\n          }\r\n          return;\r\n        }\r\n\r\n        if (clasName === \"mute-audio\" && muteAudio) muteAudio.onclick();\r\n        if (clasName === \"record-audio\" && recordAudio) recordAudio.onclick();\r\n        if (clasName === \"stop\" && stop) stop.onclick();\r\n\r\n        return this;\r\n      };\r\n\r\n      mediaElementContainer.media = mediaElement;\r\n\r\n      return mediaElementContainer;\r\n    }\r\n  }\r\n}\r\nexport default getHTMLMediaElement;\r\n"]},"metadata":{},"sourceType":"module"}